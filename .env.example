# AlumDash Environment Configuration
# Copy this file to .env and fill in your actual values

# ===== DATABASE (Required) =====
DATABASE_URL=postgresql+asyncpg://alumdash_user:secure_alumdash_2025@localhost:5432/alumdash

# ===== AUTOMATION API KEYS =====
# Get your free TMDb API key from: https://www.themoviedb.org/settings/api
TMDB_API_KEY=your_tmdb_api_key_here

# Optional but recommended for AI-powered confidence scoring
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Optional - for IMDb data (if you have access)
IMDB_API_KEY=your_imdb_api_key_here

# ===== NOTIFICATION SETTINGS =====
NOTIFICATION_EMAIL=admin@your-domain.com
EMAIL_PASSWORD=your_app_specific_password
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# ===== EXTERNAL SERVICES (Optional) =====
# Slack webhook for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Webhook for custom integrations
WEBHOOK_URL=https://your-domain.com/webhooks/automation

# ===== AUTOMATION SETTINGS =====
# How often to run automation (in hours)
COLLECTION_INTERVAL_HOURS=6

# Minimum confidence score to save discoveries (0.0 to 1.0)
CONFIDENCE_THRESHOLD=0.3

# Maximum concurrent data source connections
MAX_CONCURRENT_SOURCES=3

# Rate limiting (requests per minute globally)
GLOBAL_RATE_LIMIT=60

# ===== SECURITY =====
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
API_KEY_ROTATION_DAYS=90

# ===== MONITORING (Optional) =====
# For error tracking
SENTRY_DSN=https://your-sentry-dsn-here

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ===== DOCKER OVERRIDES (Optional) =====
# Redis connection (usually don't need to change)
REDIS_URL=redis://localhost:6379/0

# Environment (development, staging, production)
ENV=development

# ===== QUICK START GUIDE =====
#
# 1. REQUIRED for basic automation:
#    - Set DATABASE_URL (should work with default)
#    - Get TMDB_API_KEY from https://www.themoviedb.org/settings/api
#
# 2. RECOMMENDED for better results:
#    - Add OPENAI_API_KEY for AI-powered analysis
#    - Set NOTIFICATION_EMAIL for alerts
#
# 3. OPTIONAL for advanced features:
#    - Configure Slack/webhook notifications
#    - Set up error tracking with Sentry
#    - Customize automation intervals and thresholds
#
# 4. Start the system:
#    docker-compose up --build
#
# 5. Access automation dashboard:
#    http://localhost:8000 -> Automation tab
#
# ===== API KEY SOURCES =====
#
# TMDb (The Movie Database) - FREE
# - Sign up: https://www.themoviedb.org/signup
# - Get API key: https://www.themoviedb.org/settings/api
# - Rate limit: 40 requests per 10 seconds
# - Required for: Film/TV production credits
#
# OpenAI - PAID (recommended)
# - Sign up: https://platform.openai.com/signup
# - Get API key: https://platform.openai.com/api-keys
# - Cost: ~$0.002 per 1K tokens (very cheap for our use)
# - Used for: AI confidence scoring and text analysis
#
# IMDb API - PAID (optional)
# - Various providers available (RapidAPI, etc.)
# - Used for: Additional film data validation
#
# ===== NOTIFICATION SETUP =====
#
# For Gmail notifications:
# 1. Enable 2-factor authentication
# 2. Generate app-specific password
# 3. Use that password in EMAIL_PASSWORD
#
# For Slack notifications:
# 1. Create a Slack app in your workspace
# 2. Add incoming webhook
# 3. Copy webhook URL to SLACK_WEBHOOK_URL
#
# ===== SECURITY NOTES =====
#
# - Never commit this file with real API keys
# - Use environment-specific .env files for production
# - Rotate API keys regularly (set API_KEY_ROTATION_DAYS)
# - Use strong, unique JWT_SECRET in production
# - Consider using secrets management in production
